<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/icomoon (1)/style.css">
        <link rel="icon" type="image/png" href="/threads.png">
        <title>Threads</title>
    </head>

                            <body class="bg-black font-sans min-h-screen">
                                <!-- Navbar -->
                                <nav class="bg-[#181818] border-b border-gray-800 fixed top-0 w-full z-40 shadow-sm">
                                    <div class="max-w-3xl mx-auto flex items-center justify-between px-4 py-3">
                                        <span class="text-white text-2xl font-bold tracking-tight">Threads</span>
                                        <div class="flex gap-2">
                                            <a href="#" class="text-gray-400 hover:text-white px-3 py-1 rounded transition">استكشاف</a>
                                            <a href="/signup" class="text-gray-400 hover:text-white px-3 py-1 rounded transition">تسجيل</a>
                                            <a href="/login" class="text-gray-400 hover:text-white px-3 py-1 rounded transition">دخول</a>
                                        </div>
                                    </div>
                                </nav>
                                <div class="h-16"></div>
                                <main class="flex mx-auto pt-4 md:flex-row-reverse">
                                    <!-- buttons -->
                                    <div>
                                        <div class="flex flex-row justify-center gap-3 p-2 md:flex-col z-10 md:bg-transparent bg-black md:relative absolute bottom-0 md:w-fit w-[100vw]">
                                            <a href="/" class="hover:bg-gray-800 p-2 rounded transition-all"><span class="hover:opacity-100 icon-home text-white text-3xl opacity-30"></span></a>
                                            <a href="/search" class="hover:bg-gray-800 p-2 rounded transition-all"><span class="hover:opacity-100 icon-search2 text-white text-3xl opacity-30"></span></a>
                                            <a href="/likes" class="hover:bg-gray-800 p-2 rounded transition-all"><span class="hover:opacity-100 icon-heart-outline text-white text-3xl "></span></a>
                                            <a href="/profile" class="hover:bg-gray-800 p-2 rounded transition-all"><span class="hover:opacity-100 icon-user text-white text-3xl opacity-30"></span></a>
                                        </div>
                                    </div>
                                    <!-- Contents -->
                                    <div class="sm:rounded-3xl h-[75vh] bg-[#181818] mx-auto custom-scroll overflow-y-auto p-4 sm:w-[80%] w-full">
                                        <div class="max-h-[90vh] text-white">
                                            <h2 class="text-xl font-bold mb-6 text-center opacity-30">كل المنشورات التي اعجبت بها</h2>
                                            <% if (!posts.length) { %>
                                             <p class="text-gray-500 text-lg text-center">لم يتم الاعجاب </p>
                                            <% } else { %>
                                                <div class="flex flex-col gap-6">
                                                    <% posts.forEach(post => { %>
                                                        
                                                        <div class="bg-[#232323] rounded-xl p-5 shadow flex flex-col gap-2">
                                                            <div class="flex items-center gap-2 mb-2">
                                                                <img src="<%= post.author.avatar %>" class="w-9 h-9 rounded-full object-cover">
                                                                <span class="font-semibold text-sm"><%= post.author.username %></span>
                                                                <span class="text-xs text-gray-500 ms-auto"></span>
                                                            </div>
                                                            <div class="text-gray-200 text-base leading-relaxed">
                                                                <%= post.content %>
                                                            </div>
                                                            <div class="flex gap-4 mt-2 text-gray-400 text-xl">
                                                                <button id="likeBtn" class="flex gap-1 items-center transition hover:text-pink-500" onclick="toggleLike('<%= post._id %>', this)">
                                                                    <span class="text-sm text-pink-500 : '' %>"><%= post.likes.length %></span>
                                                                    <i class="text-md icon-heart-outline text-pink-500"></i>
                                                                </button>
                                                                <button class="flex gap-1 items-center hover:text-blue-400 transition">
                                                                    <span class="text-sm"><%=post.comments.length %></span>
                                                                    <i class="text-sm icon-bubble"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    <% }) %>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </main>
                            </body>